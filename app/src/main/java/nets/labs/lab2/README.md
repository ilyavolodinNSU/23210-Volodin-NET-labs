| 1    | Клиент → Сервер | Длина имени файла | int (4 байта)   | 4 байта     |
| 2    | Клиент → Сервер | Имя файла         | UTF-8 строка    | ≤ 4096 байт |
| 3    | Клиент → Сервер | Размер файла      | long (8 байт)   | 8 байт      |
| 4    | Клиент → Сервер | Содержимое файла  | Бинарные данные | До 1 ТБ     |
| 5    | Сервер → Клиент | Результат         | byte (1 байт)   | 1 байт      |

Имя и размер передаются до содержимого
 это позволяет серверу подготовить место,
  проверить безопасность пути и выделить
   поток скорости только после успешного
    чтения заголовка.